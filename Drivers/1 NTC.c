int8 nhien_tro_am;
const int8 bag_tra_ntc[]=
{
	// -40
	// 340.9281
	// -39
	// 318.8772
	// -38
	// 298.3978
	// -37
	// 279.3683
	// -36
	// 261.6769
	// 38,2307//-3
	// 70
	// 1,7411
	// 36,2940//-2
	// 71
	// 1,6826
	// 34,4668//-1
	// 72
	// 1,6264
	// 73
	// 1,5723
	// 74
	// 1,5203
	// // 245.2212// -35
	// 75
	// 1,4703
	// // 229.9072// -34
	// 76
	// 1,4222
	// // 215.6488// -33
	// 77
	// 1,3759
	// // 202.3666// -32
	// 78
	// 1,3313
	// // -31
	// // 189.9878
	// 79
	// 1,2884
	// // -30
	// // 178.4456
	// 80
	// 1,2471
	// // -29
	// // 167.6783
	// 81
	// 1,2073
	// // -28
	// // 157.6292
	// 82
	// 1,1690
	// // -27
	// // 148.2460
	// 83
	// 1,1321
	// // -26
	// // 139.4807
	// 84
	// 1,0965
	// // -25
	// // 131.2888
	// 85
	// 1,0623
	// // -24
	// // 123.6294
	// 86
	// 1,0293
	// // -23
	// // 116.4648
	// 87
	// 0,9974
	// // -22
	// // 109.7600
	// 88
	// 0,9667
	// // -21
	// // 103.4829
	// 89
	// 0,9372
	// // -20
	// // 97,6037
	// 90
	// 0,9086
	// // -19
	// // 92,0947
	// 91
	// 0,8811
	// 86,9305//-18
	// 56
	// 2,8652
	// 92
	// 0,8545
	// 82,0877//-17
	// 57
	// 2,7616
	// 93
	// 0,8289
	// 77,5442//-16
	// 58
	// 2,6622
	// 94
	// 0,8042
	// 73,2798//-15
	// 59
	// 2,5669
	// 95
	// 0,7803
	// 69,2759//-14
	// 60
	// 2,4755
	// 96
	// 0,7572
	// 65,5149//-13
	// 61
	// 2,3879
	// 97
	// 0,7350
	// 61,9809//-12
	// 62
	// 2,3038
	// 98
	// 0,7135
	// 58,6587//-11
	// 63
	// 2,2231
	// 99
	// 0,6927
	// 55,5345//-10
	//64
	//2,1456
	//100
	//0,6727
	//-9
	//52,5954
	//65
	//2,0712
	//101
	//0,6533
	//-8
	//49,8294
	//66
	//1,9998
	//102
	//0,6346
	//1,9312//67
	//1,8653//68
	//0,6165//103
	//0,5990//104
	//47,2253//-7
	//44,7727//-6
	//42,4620//-5
	//40,2841//-4
	//1,8019//69
	//0,5821//105
	//32,7421//0
	//31,1138//1
	//29,5759//2
	//28,1229//3
	//26,7496//4
	255,//25,4513//5
	242,//24,2234//6
	231,//23,0618//7
	220,//21,9625//8
	209,//20,9218//9
	199,//19,9364//10
	190,//19,0029//11
	181,//18,1184//12
	173,//17,2800//13
	165,//16,4852//14
	157,//15,7313//15
	150,//15,0161//16
	143,//14,3375//17
	137,//13,6932//18
	130,//13,0815//19
	125,//12,5005//20
	119,//11,9485//21
	114,//11,4239//22
	109,//10,9252//23
	105,//10,4510//24
	100,//10,0000//25
	96,//9,5709//26
	92,//9,1626//27
	88,//8,7738//28
	84,//8,4037//29
	80,//8,0512//30
	77,//7,7154//31
	74,//7,3954//32
	71,//7,0904//33
	68,//6,7996//34
	65,//6,5223//35
	63,//6,2577//36
	60,//6,0053//37
	58,//5,7645//38
	55,//5,5345//39
	53,//5,3150//40
	51,//5,1053//41
	49,//4,9050//42
	47,//4,7136//43
	45,//4,5307//44
	44,//4,3558//45
	42,//4,1887//46
	40,//4,0287//47
	39,//3,8758//48
	38,//3,7294//49
	36,//3,5893//50
	35,//3,4553//51
	33,//3,3269//52
	32,//3,2039//53
	30,//3,0862//54
	29//2,9733//55
};
#define nhiet_do_dau 5
#define Vin 500     // [V]
	int16 Vout;
	int16 dog;
	int16 nhiet_do; 
void tih_tro(int16 gt)
{
	Vout=Vin*(gt/1024.0); // calc for ntc
	dog=(Vin-Vout);
	nhien_tro_am=Vout*100/dog;
}
int16 tra_ntc()
{
	int8 j;
	int16 nd=0;
	for(j=0;j<50;j++)
	{
		if((nhien_tro_am<bag_tra_ntc[j])&&(nhien_tro_am>=bag_tra_ntc[j+1]))
		{
			nd=(j+nhiet_do_dau);
			nd*=10;
			nd=nd+map_(nhien_tro_am,bag_tra_ntc[j+1],bag_tra_ntc[j],0,9);
			break;
		}
	}
	return (nd);
}


